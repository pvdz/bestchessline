<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chess Practice</title>
    <link rel="stylesheet" href="practice.css" />
  </head>
  <body>
    <div class="practice-container">
      <div class="practice-header">
        <h1 class="practice-title">Chess Practice</h1>
        <p class="practice-subtitle">
          Learn and practice chess openings with guided training
        </p>
      </div>

      <div class="practice-content">
        <div class="practice-board-section">
          <div class="practice-board">
            <div class="practice-board-grid" id="practice-board-grid">
              <!-- Board squares will be generated by JavaScript -->
            </div>
            <div class="practice-file-labels">
              <span>a</span>
              <span>b</span>
              <span>c</span>
              <span>d</span>
              <span>e</span>
              <span>f</span>
              <span>g</span>
              <span>h</span>
            </div>
            <div class="practice-rank-labels">
              <span>8</span>
              <span>7</span>
              <span>6</span>
              <span>5</span>
              <span>4</span>
              <span>3</span>
              <span>2</span>
              <span>1</span>
            </div>

            <!-- Start Practice Overlay -->
            <div class="practice-start-overlay" id="practice-start-overlay">
              <div class="practice-start-content">
                <h2 class="practice-start-title">Ready to Practice?</h2>
                <p class="practice-start-subtitle">
                  Load your opening lines and click to begin training
                </p>
                <button
                  class="practice-button primary practice-start-btn"
                  id="practice-start-overlay-btn"
                >
                  Reload
                </button>
              </div>
            </div>
          </div>

          <div class="practice-controls">
            <button class="practice-button primary" id="practice-start-btn">
              Reload
            </button>
            <button class="practice-button secondary" id="practice-reset-btn">
              Reset
            </button>
            <button class="practice-button warning" id="practice-hint-btn">
              Hint
            </button>
            <button class="practice-button success" id="practice-next-btn">
              Next Line
            </button>
            <button
              class="practice-button"
              id="practice-confetti-btn"
              style="
                background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);
                color: white;
              "
            >
              Test Confetti
            </button>
            <button
              class="practice-button"
              id="practice-clear-selections-btn"
              style="
                background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
                color: white;
              "
            >
              Clear Selections
            </button>
            <button
              class="practice-button"
              id="practice-clear-arrows-btn"
              style="
                background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
                color: white;
              "
            >
              Clear Arrows
            </button>
            <button
              class="practice-button"
              id="practice-go-back-btn"
              style="
                background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
                color: white;
              "
            >
              Go Back
            </button>
            <button
              class="practice-button"
              id="practice-go-back-random-btn"
              style="
                background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
                color: white;
              "
            >
              Go Back (Random)
            </button>
            <button
              class="practice-button"
              id="practice-pin-position-btn"
              style="
                background: linear-gradient(135deg, #1abc9c 0%, #16a085 100%);
                color: white;
              "
            >
              Pin Position
            </button>
            <button
              class="practice-button"
              id="practice-restart-pinned-btn"
              style="
                background: linear-gradient(135deg, #e67e22 0%, #d35400 100%);
                color: white;
              "
            >
              Restart from Pinned
            </button>
          </div>
        </div>

        <div class="practice-sidebar">
          <div class="practice-panel">
            <h3 class="practice-panel-title">Game Status</h3>
            <div class="practice-status">
              <div
                class="practice-status-indicator"
                id="practice-status-indicator"
              ></div>
              <span class="practice-status-text" id="practice-status-text"
                >Ready to start</span
              >
            </div>

            <div class="practice-stats-grid">
              <div class="practice-stat">
                <div class="practice-stat-value" id="practice-correct-moves">
                  0
                </div>
                <div class="practice-stat-label">Correct Moves</div>
              </div>
              <div class="practice-stat">
                <div class="practice-stat-value" id="practice-total-moves">
                  0
                </div>
                <div class="practice-stat-label">Total Moves</div>
              </div>
              <div class="practice-stat">
                <div class="practice-stat-value" id="practice-accuracy">0%</div>
                <div class="practice-stat-label">Accuracy</div>
              </div>
              <div class="practice-stat">
                <div class="practice-stat-value" id="practice-current-line">
                  1
                </div>
                <div class="practice-stat-label">Current Line</div>
              </div>
            </div>
          </div>

          <div class="practice-panel">
            <h3 class="practice-panel-title">Depth Control</h3>
            <div class="practice-depth-control">
              <div class="practice-input-group">
                <label class="practice-label" for="practice-max-depth"
                  >Max Human Moves per Line</label
                >
                <div class="practice-slider-container">
                  <input
                    type="range"
                    class="practice-slider"
                    id="practice-max-depth"
                    min="1"
                    max="15"
                    value="1"
                  />
                  <span class="practice-slider-value" id="practice-slider-value"
                    >1</span
                  >
                </div>
              </div>
              <div class="practice-depth-info">
                <span class="practice-depth-label">Human Moves Made:</span>
                <span class="practice-depth-value" id="practice-current-depth"
                  >0</span
                >
              </div>
            </div>
          </div>

          <div class="practice-panel">
            <h3 class="practice-panel-title">Move History</h3>
            <div class="practice-moves" id="practice-moves">
              <!-- Move history will be populated by JavaScript -->
            </div>
          </div>

          <div class="practice-panel">
            <h3 class="practice-panel-title">Configuration</h3>
            <div class="practice-config">
              <div class="practice-input-group">
                <label class="practice-label" for="practice-starting-fen"
                  >Starting Position (FEN)</label
                >
                <input
                  type="text"
                  class="practice-input"
                  id="practice-starting-fen"
                  value="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
                />
              </div>

              <div class="practice-input-group">
                <label class="practice-label" for="practice-move-selection"
                  >Move Selection</label
                >
                <select class="practice-select" id="practice-move-selection">
                  <option value="random">Random</option>
                  <option value="serial">Serial</option>
                  <option value="adaptive">
                    Adaptive (Focus on weak positions)
                  </option>
                </select>
              </div>

              <div class="practice-input-group">
                <label class="practice-label" for="practice-notation-toggle"
                  >Notation</label
                >
                <select class="practice-select" id="practice-notation-toggle">
                  <option value="english">English (KQRBNP)</option>
                  <option value="unicode">Figures (♔♕♖♗♘♙)</option>
                </select>
              </div>

              <div class="practice-input-group">
                <label class="practice-label" for="practice-opening-lines"
                  >Opening Lines (Text Format)</label
                >
                <textarea
                  class="practice-input practice-textarea"
                  id="practice-opening-lines"
                  placeholder="Enter opening lines in text format, one game per line..."
                >
1. Ng1f3
1. Ng1f3  Ng8f6 2. Pg2g3
1. O-O
1. Ng1f3  Ng8f6 2. O-O
1. Ng1f3  Pd7d5 2. Pg2g3
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Ph7h6 4. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Pd7d5 4. Pd2d4
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d6 4. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Nb8c6 4. Nb1c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d5 4. Pc4d5
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pg7g6 4. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pe7e6 4. Ke1g1
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pc7c5 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pe7e6 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pg7g6 4. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pc7c5 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Pc7c5 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Ng8f6 4. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Ng8f6 4. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Nb8c6 4. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Pe7e6 4. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Ph7h6 4. Pc2c4  Bf8e7 5. Ke1g1
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Ph7h6 4. Pc2c4  Pd7d5 5. Pd2d4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Ph7h6 4. Pc2c4  Pc7c6 5. Pd2d4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Pc7c5 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Pd7d5 5. Ph2h3
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Ke8g8 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Pd7d5 4. Pd2d4  Bf8b4 5. Nb1d2
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Pd7d5 4. Pd2d4  Bf8e7 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pe7e6 3. Bf1g2  Pd7d5 4. Pd2d4  Pc7c5 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d6 4. Bf1g2  Nb8c6 5. Nb1c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d6 4. Bf1g2  Pg7g6 5. Pd2d4
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d6 4. Bf1g2  Pe7e5 5. Nb1c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Nb8c6 4. Nb1c3  Pe7e5 5. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Nb8c6 4. Nb1c3  Pd7d5 5. Pc4d5
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Nb8c6 4. Nb1c3  Pe7e6 5. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d5 4. Pc4d5  Pe7e6 5. Pd5e6
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d5 4. Pc4d5  Qd8d5 5. Nb1c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pc7c5 3. Pc2c4  Pd7d5 4. Pc4d5  Nf6d5 5. Bf1g2
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pg7g6 4. Pc2c4  Pd5c4 5. Qd1a4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pg7g6 4. Pc2c4  Pd5d4 5. Pb2b4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pg7g6 4. Pc2c4  Pc7c6 5. Pb2b3
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pe7e6 4. Ke1g1  Bf8d6 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pe7e6 4. Ke1g1  Bf8e7 5. Pc2c4
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pe7e6 4. Ke1g1  Pc7c5 5. Pd2d3
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pc7c5 4. Ke1g1  Ph7h6 5. Pc2c3
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pc7c5 4. Ke1g1  Pe7e6 5. Pd2d3
1. Ng1f3  Ng8f6 2. Pg2g3  Pd7d5 3. Bf1g2  Pc7c5 4. Ke1g1  Nb8c6 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pe7e6 4. Ke1g1  Bf8d6 5. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pe7e6 4. Ke1g1  Bf8e7 5. Pc2c4
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pe7e6 4. Ke1g1  Pc7c5 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pg7g6 4. Pd2d4  Nb8d7 5. Pc2c4
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pg7g6 4. Pd2d4  Bf8g7 5. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pg7g6 4. Pd2d4  Pc7c6 5. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pc7c5 4. Ke1g1  Ph7h6 5. Pc2c3
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pc7c5 4. Ke1g1  Pe7e6 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Ng8f6 3. Bf1g2  Pc7c5 4. Ke1g1  Nb8c6 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Pc7c6 5. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Pc7c5 5. Pc2c4
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Bf8e7 4. Ke1g1  Ng8f6 5. Pc2c4
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Pc7c5 4. Ke1g1  Ng8f6 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Pc7c5 4. Ke1g1  Ph7h6 5. Pe2e3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Pc7c5 4. Ke1g1  Nb8c6 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Ng8f6 4. Ke1g1  Nb8d7 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Ng8f6 4. Ke1g1  Bf8e7 5. Pd2d3
1. Ng1f3  Pd7d5 2. Pg2g3  Pe7e6 3. Bf1g2  Ng8f6 4. Ke1g1  Pc7c5 5. Pc2c4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Ng8f6 4. Pd2d4  Pc5d4 5. Pc3d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Ng8f6 4. Pd2d4  Pe7e6 5. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Ng8f6 4. Pd2d4  Nb8c6 5. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Nb8c6 4. Pd2d4  Pe7e6 5. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Nb8c6 4. Pd2d4  Ng8f6 5. Bf1g2
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Nb8c6 4. Pd2d4  Pc5d4 5. Pc3d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Pe7e6 4. Bf1g2  Ng8f6 5. Ke1g1
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Pe7e6 4. Bf1g2  Nb8c6 5. Pd2d4
1. Ng1f3  Pd7d5 2. Pg2g3  Pc7c5 3. Pc2c3  Pe7e6 4. Bf1g2  Bf8e7 5. Pd2d4
                  </textarea
                >
                <button
                  class="practice-button secondary"
                  id="practice-load-lines-btn"
                  style="
                    background: linear-gradient(
                      135deg,
                      #3498db 0%,
                      #2980b9 100%
                    );
                    color: white;
                    margin-top: 8px;
                  "
                >
                  Load from practice-lines.ts
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Application script -->
    <script type="module">
      import { initializePractice } from "../dist/practice/practice.js";

      // Initialize the application when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        try {
          initializePractice();
          console.log("Chess Practice App initialized successfully");
        } catch (error) {
          console.error("Failed to initialize practice application:", error);
        }
      });
    </script>
  </body>
</html>
