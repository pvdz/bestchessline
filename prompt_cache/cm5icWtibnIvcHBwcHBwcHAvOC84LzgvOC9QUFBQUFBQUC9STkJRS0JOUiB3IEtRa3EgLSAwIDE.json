{
  "answer": "Opening: possible Reti/English transpositions. Nf3 is a natural developing move: it controls e5 and d4, helps prepare kingside castling, and keeps central options flexible (d4/c4 or g3/Bg2). It rarely concedes structural weaknesses and fits many setups. Typical ideas: quick development, contest center with pawns and pieces, avoid early material grabs. For Black: fight for central squares with …d5/…e5, develop …Nf6/…Nc6 and aim for equalization.",
  "prompt": "You are a chess coach. Explain like to a beginner (~800 ELO): avoid jargon, focus on basic ideas, simple plans, and common tactics. Give concrete advice.\n\nCurrent position (FEN): rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\n\nASCII Board:\n  +------------------------+\n8 | r n b q k b n r |\n7 | p p p p p p p p |\n6 | . . . . . . . . |\n5 | . . . . . . . . |\n4 | . . . . . . . . |\n3 | . . . . . . . . |\n2 | P P P P P P P P |\n1 | R N B Q K B N R |\n  +------------------------+\n    a b c d e f g h\n\nPieces by side:\nWhite: P@a2, P@b2, P@c2, P@d2, P@e2, P@f2, P@g2, P@h2, R@a1, N@b1, B@c1, Q@d1, K@e1, B@f1, N@g1, R@h1\nBlack: r@a8, n@b8, b@c8, q@d8, k@e8, b@f8, n@g8, r@h8, p@a7, p@b7, p@c7, p@d7, p@e7, p@f7, p@g7, p@h7\n\nNo engine context provided.\n\nMove: Nf3 (parsed OK)\n\nDiscuss: opening family if recognizable, typical plans for both sides, pawn structure, tactical motifs, strategic ideas, good vs bad moves, and what to study next. Be concrete and non-hallucinatory; use the FEN, ASCII board, and piece list to anchor facts.\n\nUser question: You are a chess coach. Given a FEN, output a structured JSON RESULT our app can display directly.\nReturn ONLY valid JSON. Use this shape (TypeScript-like):\ntype CoachAction =\n  | { type: 'arrow'; from: string; to: string; color?: string }\n  | { type: 'setPosition'; fen: string }\n  | { type: 'highlight'; squares: string[]; style?: 'hint' | 'select' }\n  | { type: 'wait'; ms: number };\ninterface CoachStep { text: string; actions?: CoachAction[] }\ninterface CoachItem { text: string; actions?: CoachAction[] }\ninterface CoachResponse {\n  summary: string;\n  generalIdea: string;\n  generalIdeaSteps?: CoachStep[];\n  ideasWhite: string;\n  ideasWhiteSteps: CoachStep[];\n  ideasBlack: string;\n  ideasBlackSteps: CoachStep[];\n  pitfalls: string;\n  pitfallsSteps: CoachStep[];\n  terminologyItems: CoachItem[];\n  studyItems: CoachItem[];\n  knownPositionsItems: CoachItem[];\n  themesItems: CoachItem[];\n}\nGuidelines:\n- Be accurate and concise; avoid speculation.\n- Use plain language; short paragraphs.\n- For ideasWhite/ideasBlack/pitfalls: write a coherent story in the string field and also provide step-wise '...Steps' where each step is a visual unit (arrows/highlights/setPosition/wait).\n- Keep actions legal and conservative from the given FEN context.\n- terminologyItems/studyItems/knownPositionsItems/themesItems: provide 5–10 concise items; include actions only when helpful.\n- If the question is about a specific move, provide make sure the response covers the pro's and cons of that move specifically while still giving general advice about the position.\nFEN: rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1\nPieces (side@square):\nWhite: P@a2, P@b2, P@c2, P@d2, P@e2, P@f2, P@g2, P@h2, R@a1, N@b1, B@c1, Q@d1, K@e1, B@f1, N@g1, R@h1\nBlack: r@a8, n@b8, b@c8, q@d8, k@e8, b@f8, n@g8, r@h8, p@a7, p@b7, p@c7, p@d7, p@e7, p@f7, p@g7, p@h7\nASCII Board:\n  +------------------------+\n8 | r n b q k b n r |\n7 | p p p p p p p p |\n6 | . . . . . . . . |\n5 | . . . . . . . . |\n4 | . . . . . . . . |\n3 | . . . . . . . . |\n2 | P P P P P P P P |\n1 | R N B Q K B N R |\n  +------------------------+\n    a b c d e f g h\nMoves (SAN):\n(none)\nEngine top-5 (long, cp):\nd2d4 (13)\nd2d4 (13)\nd2d4 (13)\ng1f3 (8)\ne2e3 (8)",
  "ts": 1754850032151
}
